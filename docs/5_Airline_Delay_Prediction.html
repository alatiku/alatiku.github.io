<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Aliyu Atiku Mustapha" />

<meta name="date" content="2023-09-11" />

<title>Airline Delay Prediction</title>

<script src="site_libs/header-attrs-2.24/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.28/datatables.js"></script>
<link href="site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">My Data Science Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="http://github.com/alatiku">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/aliyu-atiku">
    <span class="fa fa-linkedin fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="1a_Cyclistic.html">Google Data Analytics-I</a>
</li>
<li>
  <a href="1b_Cyclistic_Improved.html">Google Data Analytics-II</a>
</li>
<li>
  <a href="2_sentiment_analysis.html">Sentiment Analysis</a>
</li>
<li>
  <a href="3_churn.html">Churn Analysis</a>
</li>
<li>
  <a href="4_Wine-Quality-Classifier.html">Classification Modeling</a>
</li>
<li>
  <a href="5_Airline_Delay_Prediction.html">Airline Delay Prediction</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Airline Delay Prediction</h1>
<h4 class="author">Aliyu Atiku Mustapha</h4>
<h4 class="date">2023-09-11</h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<div
id="the-task-is-to-build-a-regression-model-that-can-predict-whether-a-given-flight-will-be-delayed-given-the-information-of-the-scheduled-departure."
class="section level3">
<h3>The task is to build a regression model that can predict whether a
given flight will be delayed, given the information of the scheduled
departure.</h3>
</div>
</div>
<div id="data" class="section level1">
<h1>Data</h1>
<div id="airline-delay-data" class="section level2">
<h2>Airline Delay Data</h2>
<p>The data contains 539383 measurements of 9 different attributes.</p>
<p>The dataset is available in the <a
href="https://archive.ics.uci.edu/dataset/477/real+estate+valuation+data+set">UCI
Machine Learning Repository:</a>.</p>
<table>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Column Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>id</td>
<td>ID column</td>
</tr>
<tr class="even">
<td>Airline</td>
<td>Airline Name</td>
</tr>
<tr class="odd">
<td>Flight</td>
<td>Flight Number</td>
</tr>
<tr class="even">
<td>AirportFrom</td>
<td>Departure Airport</td>
</tr>
<tr class="odd">
<td>AirportTo</td>
<td>Arrival Airport</td>
</tr>
<tr class="even">
<td>DayofWeek</td>
<td>Day of week of flight</td>
</tr>
<tr class="odd">
<td>Time</td>
<td>Time of flight</td>
</tr>
<tr class="even">
<td>Length</td>
<td>Length of delay</td>
</tr>
<tr class="odd">
<td>Delay</td>
<td>Delayed or not</td>
</tr>
</tbody>
</table>
<pre class="r"><code># Load tidyverse package
library(tidyverse)
# Load rsample package for correlation plot
library(rsample)
# Load corrplot package for correlation plot
library(corrplot)
# Load gbm package for Logistic regression modeling
library(gbm)
# Load randomForest package for Random Forest model
library(randomForest)
# Load pROC package for ROC curve
library(pROC)
# Load DT package
library(DT)
# Load knitr package
library(knitr)
# Set constant size for plots
knitr::opts_chunk$set(fig.width = 8, fig.height = 5)</code></pre>
</div>
<div id="data-loading" class="section level2">
<h2>Data Loading</h2>
<pre class="r"><code>airline_data &lt;- read.csv(&quot;E:/My Data Science Portfolio/Datasets/Airlines.csv&quot;)
# Calculate total number of rows in data
cat(&quot;The Telco dataset has&quot;,nrow(airline_data), &quot;rows.&quot;)</code></pre>
<pre><code>## The Telco dataset has 539383 rows.</code></pre>
<pre class="r"><code># Display the first 500 rows of imported data
DT::datatable(
  airline_data[1:500,],
  options = list(pageLength = 20),
  fillContainer = T,
  caption = &quot;Table displaying first 500 rows of loaded data.&quot;)</code></pre>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-02fdc75505344880e323" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-02fdc75505344880e323">{"x":{"filter":"none","vertical":false,"caption":"<caption>Table displaying first 500 rows of loaded data.<\/caption>","fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500],["CO","US","AA","AA","AS","CO","DL","DL","DL","AA","CO","DL","DL","AA","AS","US","B6","CO","DL","CO","AS","DL","AS","HA","US","AS","B6","B6","HA","OO","OO","US","US","HA","OO","9E","HA","OO","OH","OO","US","US","US","HA","9E","DL","OO","CO","CO","EV","US","XE","OO","9E","9E","9E","AA","CO","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","EV","EV","EV","EV","EV","EV","EV","OO","OO","US","US","US","US","US","XE","XE","YV","HA","UA","OO","YV","9E","9E","9E","AA","B6","CO","OH","OO","XE","EV","9E","9E","CO","DL","DL","DL","DL","EV","MQ","XE","XE","XE","XE","9E","9E","9E","9E","AA","AA","AA","CO","CO","CO","CO","CO","DL","DL","DL","DL","DL","DL","DL","DL","EV","EV","EV","EV","EV","OH","OH","OO","OO","OO","OO","US","XE","XE","OO","OO","UA","OO","9E","B6","DL","DL","DL","DL","DL","EV","FL","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","OH","OH","9E","HA","OO","9E","9E","9E","9E","B6","DL","HA","MQ","OH","OH","OO","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","9E","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AS","AS","AS","AS","AS","B6","B6","B6","B6","B6","B6","B6","B6","B6","B6","B6","B6","B6","B6","B6","CO","CO","CO","CO","CO","CO","CO","CO","CO","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","DL","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","EV","F9","F9","FL","FL","FL","FL","FL","FL","FL","FL","FL","FL","FL","FL","FL","FL","FL","FL","FL","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","MQ","OH","OH","OH","OH","OH","OH","OH","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","OO","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","UA","US","US","US","US","US","US","US","US","US","US","US","US","US","US","US","US","US","US","US","US","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","WN","XE","XE","XE","XE","XE","XE"],[269,1558,2400,2466,108,1094,1768,2722,2606,2538,223,1646,2055,2408,132,498,98,1496,1450,507,128,2223,112,17,122,114,766,768,206,4746,6466,1011,1983,108,6900,3975,102,4829,6338,6505,149,1640,908,106,3854,1276,4651,1585,222,4966,1521,2827,4719,3702,3775,3886,1711,611,1143,1511,1518,1698,1842,1972,2054,2112,2306,2711,2995,4940,5014,5044,5117,5393,5532,7108,6917,7781,1289,1420,1732,347,913,2263,3024,2605,103,576,6644,7294,3661,3725,3804,674,728,463,6423,6698,2865,7101,3998,4196,214,2123,2597,2626,684,5583,4563,2616,3006,3015,5970,3659,3862,3949,4143,1141,1297,2320,1677,1727,240,278,633,1095,1112,1506,1580,2320,2481,2710,2939,5142,5218,5233,5362,5501,6264,6549,6407,6647,6925,6964,1423,2919,5951,6480,6843,756,3099,3718,107,1248,1985,2387,2405,734,5165,331,2734,2796,3014,3332,3632,3781,3842,3892,4013,6498,6629,4391,218,6921,3935,3955,4200,4274,735,377,202,2864,6262,6414,7014,3668,3724,3755,3757,3795,3845,3850,3871,3875,3893,3923,3957,3985,4008,4026,4058,4239,4272,4324,1056,1140,1143,1215,1225,1406,1584,1596,1602,1615,1631,1670,1755,1839,1843,1878,1921,1965,1994,2037,2060,2103,2203,2299,2301,445,526,528,548,552,654,708,454,55,600,62,81,1001,1133,1224,155,162,1695,19,247,370,371,442,45,52,68,701,1045,1428,1617,1810,1815,308,469,759,89,1084,1106,1157,1181,1249,1297,1301,1371,1401,1445,1447,1504,1602,1625,1767,1831,1889,1949,2205,2280,2437,2480,2525,2530,2581,2806,2816,725,4942,4946,4979,4998,5011,5027,5079,5141,5169,5265,5275,5313,5316,5366,5374,5387,5435,5460,5479,5491,5507,5564,5605,7070,7075,7086,7097,7100,7116,7323,7378,225,377,143,155,183,200,254,281,359,429,557,630,726,738,84,901,912,942,967,2731,2750,2963,3256,3265,3280,3325,3357,3372,3450,3512,3650,3736,3748,3768,3807,3853,3884,3908,3914,3939,4067,4114,4176,4223,4260,4275,4382,4420,4448,4581,4625,4629,4650,4697,6341,6357,6379,6401,6560,6655,6668,4611,4662,4676,4765,4802,4888,6245,6285,6300,6330,6345,6359,6399,6405,6434,6471,6506,6512,6586,6612,6682,6684,6732,6743,6766,6820,6836,6893,6918,6930,6936,6948,6949,6975,6997,7006,7008,7049,7763,7768,7799,189,18,201,203,226,234,257,303,32,337,376,410,468,475,494,506,510,520,532,650,668,669,705,707,736,740,90,922,1050,1262,1267,1296,1440,1772,1997,2021,2114,2115,2158,2161,270,56,578,595,652,86,952,985,1067,109,1289,1357,1851,1929,2529,2643,2891,3061,367,3,406,425,647,702,735,748,799,944,2143,2231,2384,2485,2614,2644],["SFO","PHX","LAX","SFO","ANC","LAX","LAX","PHX","SFO","LAS","ANC","PHX","SLC","LAX","ANC","DEN","DEN","LAS","LAS","ONT","FAI","ANC","ANC","LAS","ANC","ANC","BQN","PSE","HNL","BIS","IYK","EWR","BOS","HNL","MKE","GFK","HNL","OMA","GSO","LMT","SEA","MCO","TPA","HNL","DLH","MSP","FAR","MFE","MSY","VPS","BWI","MAF","LWS","RST","ALB","DSM","BOS","EWR","CHS","MSN","MCO","JAX","SAT","TPA","PNS","BHM","LIT","SAV","BNA","OMA","ICT","ECP","DHN","MGM","CAE","PWM","ACV","EKO","BOS","PHL","ATL","PDX","RIC","BTR","HRL","MYR","HNL","SEA","TUS","SBN","CAK","TVC","CLE","ORD","BQN","ORD","DAY","MFR","MKE","BTV","TLH","TYS","DFW","BOS","RIC","FLL","AUS","CHA","CMH","LRD","BRO","CRP","LAN","ALB","SAT","PVD","FWA","JFK","DFW","DFW","PHL","BWI","AUS","SAT","LGA","OKC","PIT","LAX","SFO","PBI","ORF","DFW","DCA","AEX","SYR","BTR","SHV","VLD","BDL","MFE","FAT","BZN","PHX","RDM","DCA","LFT","CAK","IPL","EAU","SFO","OMA","ERI","BUF","IAH","DAY","MKE","PHL","MCI","AGS","PHL","ABI","GRR","FAT","LBB","CLT","LIT","MSP","PHL","LEX","ORD","GRR","MBS","HNL","MOD","EWR","LBB","TYS","AMA","JFK","BDL","HNL","SGF","OMA","AZO","RDM","TYS","ABE","SWF","BGM","SBN","AVP","FNT","BHM","GSP","FWA","IAH","ATW","DSM","BTV","ORF","LAN","ITH","ECP","DCA","TUL","SAT","TPA","DCA","COS","OMA","LAS","PDX","ELP","BDL","MSY","AUS","ABQ","OKC","BOS","SMF","EWR","STL","IAH","BNA","SEA","IAD","LGA","DTW","ORD","DCA","SFO","LAX","LAX","SFO","PHX","AUS","SEA","ANC","SEA","FAI","SEA","BOS","SYR","RDU","JFK","RSW","BOS","BTV","OAK","FLL","LGA","TPA","ROC","MCO","FLL","JFK","CLE","CLT","MCI","SMF","OMA","PDX","SFO","DCA","IAH","ANC","SEA","CMH","RSW","PWM","JFK","IND","BOS","BOS","DCA","LGA","MCI","LAS","BWI","CLT","PDX","CVG","RDU","MDW","STL","CLT","SEA","BOS","BZN","SDF","SFO","LAS","SFO","JAX","ABY","TRI","XNA","ROA","MLI","LYH","EVV","HPN","SYR","FAY","EWN","CSG","SGF","CAK","GPT","MLU","MOB","LFT","OAJ","CHO","ILM","ROA","ROA","DTW","DAY","CMH","CAE","JFK","BMI","DEN","MDW","BOS","DTW","IND","DCA","CAK","FNT","BOS","LGA","PNS","BUF","DAY","DFW","MSP","FLL","PHF","MKE","ROC","ACY","CVG","JAN","CID","GRK","HOU","CRP","DSM","MOB","BTR","XNA","MKE","TYS","ORD","ORD","EWR","ORD","ATL","CLE","CRW","ICT","BNA","RIC","PIT","CMH","ROC","BWI","MSN","BOS","BOS","DCA","CLT","LGA","RDU","LGA","DTW","RIC","BDL","BOS","HTS","ORD","OMA","CHS","SAT","ABQ","BNA","LAS","DFW","COS","MFR","MFR","FAT","ONT","PSC","BOI","ORD","PDX","SBP","ABQ","ELP","CLD","PSP","SLC","SBA","MEM","MRY","ATW","GEG","RDD","PAH","ACV","CMX","ORD","SPI","COS","EUG","DFW","MKE","EUG","CIC","SEA","PIH","SGU","COD","BWI","LAX","BOS","BOS","SFO","OMA","JAX","JFK","PDX","PHL","ORD","SMF","SEA","CLT","DSM","SFO","LAS","MSP","DEN","BDL","ORD","LGA","IAD","ORD","SFO","OAK","LAX","ORD","RDU","MIA","LGA","STL","BNA","MHT","ORD","BOS","LGA","BOS","DCA","LGA","IAH","ORD","SFO","MCI","IND","OMA","FLL","MSY","OAK","MSY","GEG","SMF","ONT","LAX","IND","SMF","MDW","LGA","MDW","LIT","SEA","BOS","PHX","MDW","IAD","SMF","LAX","OAK","GSP","JAN","SHV","ORF","CMH","GPT"],["IAH","CLT","DFW","DFW","SEA","IAH","MSP","DTW","MSP","ORD","SEA","ATL","ATL","DFW","PDX","CLT","JFK","IAH","MSP","IAH","SEA","SLC","SEA","HNL","PHX","SEA","MCO","MCO","OGG","MSP","LAX","CLT","CLT","KOA","ORD","MSP","ITO","MSP","ATL","SFO","PHX","CLT","CLT","OGG","MSP","ATL","MSP","IAH","IAH","ATL","CLT","IAH","SLC","MSP","DTW","ATL","MIA","IAH","ATL","DTW","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","IAD","SMF","SLC","PHL","CLT","CLT","PHX","CLT","IAH","IAH","CLT","LIH","DEN","DEN","ORD","DTW","DTW","ATL","MIA","JFK","IAH","DTW","PDX","IAH","IAD","ATL","ATL","IAH","DTW","ATL","ATL","ATL","ATL","LGA","IAH","IAH","IAH","ORD","ATL","MEM","DTW","DTW","MIA","MIA","ORD","IAH","IAH","IAH","IAH","IAH","ATL","ATL","DTW","DTW","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","CVG","MEM","SFO","DEN","LAX","PDX","CLT","IAH","ORD","YUM","CWA","DEN","MKE","DTW","JFK","ATL","ATL","ATL","DTW","ATL","ATL","ATL","DFW","DFW","LAX","DFW","MIA","ORD","ORD","ORD","ORD","ATL","DTW","DTW","KOA","SFO","DTW","MEM","CVG","MEM","BQN","DTW","ITO","DFW","DTW","DTW","SFO","LGA","DTW","DTW","DTW","CVG","DTW","DTW","DTW","DTW","ATL","MEM","MSP","MEM","JFK","DTW","DTW","DTW","MEM","JFK","DFW","DFW","DFW","DFW","DFW","DFW","DFW","DFW","DFW","DFW","MIA","ORD","DFW","DFW","ORD","DFW","MIA","DFW","MIA","MIA","ORD","MIA","MIA","MIA","DFW","ORD","DFW","MIA","ORD","MIA","DFW","DFW","LAX","FAI","LAS","ANC","ANC","JFK","JFK","BOS","MCO","JFK","MCO","JFK","LGB","LGA","FLL","BOS","JFK","JFK","JFK","SJU","IAH","IAH","IAH","IAH","IAH","IAH","IAH","IAH","EWR","MSP","SLC","ATL","ATL","ATL","ATL","ATL","LGA","ATL","DTW","ATL","DTW","ATL","ATL","DTW","SLC","ATL","ATL","ATL","ATL","ATL","DTW","MSP","MSP","ATL","MSP","DTW","SLC","DCA","ATL","ATL","ATL","DTW","ATL","ATL","ATL","ATL","DTW","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ATL","ORD","IAD","IAD","ORD","ORD","IAD","ATL","CVG","DEN","MKE","ATL","BWI","ATL","ATL","ATL","ATL","ATL","ATL","ATL","BWI","MKE","MKE","ATL","ATL","BWI","BWI","ATL","DFW","DFW","DFW","DFW","DFW","DFW","DFW","DFW","DFW","DFW","DFW","MIA","EWR","MSP","ORD","ATL","ORD","ORD","ORD","ORD","ORD","ORD","ORD","ORD","ORD","ORD","ORD","JFK","LGA","JFK","LGA","RDU","LGA","ATL","LGA","DTW","DCA","JFK","CVG","JFK","MEM","LGA","SLC","SLC","MSP","LAX","SLC","MSP","SFO","DEN","LAX","SFO","SFO","SFO","MCI","SFO","LAX","LAX","LAX","LAX","DEN","DEN","DEN","ORD","DEN","ORD","SFO","SFO","ORD","SFO","ORD","TYS","ORD","ORD","DEN","ORD","ORD","PDX","SFO","PDX","SLC","SLC","SLC","ORD","DEN","IAD","ORD","BOS","ORD","ORD","SFO","DEN","ORD","PHL","DEN","SFO","ORD","ORD","PHX","SFO","ORD","ORD","IAD","LGA","ORD","ORD","DEN","LAS","DEN","SFO","IAD","CLT","PHL","PHL","CLT","CLT","CLT","CLT","DCA","BOS","LGA","LGA","DCA","PHX","PHL","PHX","PHX","PHX","PHX","PHL","CLT","SAN","DEN","SEA","ONT","OAK","DEN","DEN","LAX","IAD","MDW","BNA","DAL","LAS","MDW","DEN","LAS","DEN","DEN","SFO","ONT","IAH","IAH","IAH","IAH","EWR","IAH"],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[15,15,20,20,30,30,30,30,35,40,49,50,50,55,55,55,59,60,60,75,80,85,90,100,113,150,240,262,300,300,300,300,300,302,302,305,305,305,315,315,315,315,315,317,320,320,320,325,325,325,325,325,328,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,331,331,333,334,335,335,335,335,335,335,335,335,335,336,338,340,340,340,340,340,340,340,340,340,340,340,340,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,345,346,346,348,349,350,350,350,350,350,350,350,350,350,350,350,350,350,350,350,350,350,350,350,350,351,352,352,355,355,355,355,355,355,355,355,355,355,355,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360,360],[205,222,165,195,202,181,220,228,216,200,201,212,210,170,215,179,213,162,181,167,206,270,200,380,327,200,169,180,36,85,53,111,135,41,44,68,49,75,93,95,166,97,96,36,58,158,62,64,70,69,83,85,87,50,120,135,210,233,72,80,84,80,142,85,75,58,97,65,67,147,132,68,70,57,64,114,65,70,84,102,68,148,72,72,70,62,35,159,112,46,76,75,128,185,231,164,75,74,174,110,68,57,59,144,109,118,134,47,100,66,70,59,71,183,119,135,59,190,160,140,219,208,55,54,235,127,131,270,270,113,120,132,120,119,158,97,123,62,133,118,45,107,85,58,85,58,95,34,32,158,81,65,83,130,114,129,115,129,60,145,50,175,65,70,120,105,95,140,95,128,61,59,41,38,130,119,64,120,215,130,49,90,137,58,101,131,115,120,103,60,105,48,125,115,115,95,76,100,100,125,50,97,90,82,70,65,170,210,120,125,160,225,100,260,105,165,105,60,175,205,185,115,135,135,245,160,190,190,150,125,215,280,240,315,130,60,150,58,143,70,219,71,85,101,168,156,192,84,77,159,174,167,83,141,160,218,190,180,118,220,138,238,225,206,200,326,120,110,110,192,168,105,68,190,102,167,118,223,120,115,107,103,87,120,110,82,253,210,138,84,222,233,113,112,50,67,119,98,130,85,80,151,115,86,98,44,119,109,80,98,77,120,98,102,88,86,116,90,90,82,128,81,115,158,157,165,125,105,123,120,134,180,161,69,135,93,135,70,113,123,120,83,135,165,100,140,50,70,80,130,115,90,70,165,135,120,85,165,120,115,85,105,105,105,140,105,80,125,140,55,79,80,70,110,100,95,150,100,125,84,88,53,133,114,118,175,101,144,75,168,135,81,155,59,85,125,112,88,105,62,121,137,40,131,93,142,110,146,55,136,78,78,82,82,87,60,146,155,139,44,41,65,48,48,73,89,135,146,103,171,342,96,156,404,146,137,125,144,130,133,80,120,95,84,141,94,127,150,131,160,98,146,89,108,57,169,57,113,74,152,118,96,62,70,60,59,172,119,111,174,235,175,157,108,85,180,70,80,80,135,185,80,105,150,85,70,140,175,105,245,240,145,80,75,160,77,55,201,97,81],[1,1,1,1,0,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,1,0,1,1,0,0,1,0,1,0,1,1,0,1,0,1,1,1,0,0,0,1]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>Airline<\/th>\n      <th>Flight<\/th>\n      <th>AirportFrom<\/th>\n      <th>AirportTo<\/th>\n      <th>DayOfWeek<\/th>\n      <th>Time<\/th>\n      <th>Length<\/th>\n      <th>Delay<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"columnDefs":[{"className":"dt-right","targets":[1,3,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="data-properties" class="section level2">
<h2>Data Properties</h2>
<p>To understand the data composition, the class of each variable
together with the number and proportion of missing values for each
variable will provide a deeper insight to the data structure and how it
could be useful for analysis.</p>
<pre class="r"><code># Check for class of each variable
class_table &lt;- sapply(airline_data, class)
class_table &lt;- data.frame(
  Variable = names(class_table),
  Class = as.character(class_table),
  stringsAsFactors = FALSE
)
# Check for the proportion of missing values in full data
x &lt;- data.frame(miss = colSums(is.na(airline_data)),
                prop = round((colSums(is.na(airline_data)) 
                              / nrow(airline_data)) * 100,
                          2))
properties &lt;- cbind(class_table,
                    Values_missing = x[, 1],
                    Proportion_missing = x[, 2])
# Display the properties of the data
kable(head(properties, 10),
      caption = &quot;Table displaying the properties of data.&quot;)</code></pre>
<table>
<caption>Table displaying the properties of data.</caption>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">Class</th>
<th align="right">Values_missing</th>
<th align="right">Proportion_missing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id</td>
<td align="left">integer</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Airline</td>
<td align="left">character</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Flight</td>
<td align="left">integer</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">AirportFrom</td>
<td align="left">character</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">AirportTo</td>
<td align="left">character</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">DayOfWeek</td>
<td align="left">integer</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Time</td>
<td align="left">integer</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Length</td>
<td align="left">integer</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Delay</td>
<td align="left">integer</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>No missing data, no need for cleaning or transformation, so dive
straight to understand the data.</p>
</div>
</div>
<div id="analysis" class="section level1">
<h1>Analysis</h1>
<p>The objective of this analysis is to understand the flight data.</p>
<div id="number-of-flights-delayed-vs-not-delayed"
class="section level2">
<h2>Number of flights delayed vs not delayed</h2>
<pre class="r"><code># Visualize number of flights delayed and not delayed
ggplot(airline_data, aes(x = as.factor(Delay), 
                               fill = as.factor(Delay))) +
    geom_bar() +
    labs(title = &quot;Distribution of flight delay&quot;, 
         x = &quot;Flight Delayed&quot;, y = &quot;Count&quot;) +
    theme(legend.position = &quot;top&quot;) + 
    scale_x_discrete(labels = c(&quot;0&quot; = &quot;No&quot;, &quot;1&quot; = &quot;Yes&quot;)) +
    scale_fill_manual(values = c(&quot;0&quot; = &quot;blue&quot;, &quot;1&quot; = &quot;red&quot;),
                      labels = c(&quot;0&quot; = &quot;No&quot;, &quot;1&quot; = &quot;Yes&quot;),
                      name = &quot;Flight Delayed&quot;)</code></pre>
<p><img src="5_Airline_Delay_Prediction_files/figure-html/delayed_vs_undelayed-1.png" width="768" /></p>
<p>There is a small difference between the number of total flights
delayed and those not delayed.</p>
</div>
<div id="number-of-delays-on-each-day" class="section level2">
<h2>Number of delays on each Day</h2>
<pre class="r"><code># Visualize number of flights delayed on each day
airline_data %&gt;%
    filter(Delay == &quot;1&quot;) %&gt;%
    group_by(DayOfWeek) %&gt;%
    count(Delay) %&gt;%
    ggplot(aes(x = DayOfWeek, y = n, fill = as.factor(DayOfWeek))) +
    geom_col() +
    geom_text(
    aes(label = paste0(n)),
    position = position_dodge(width = 1), vjust = -0.3) +
        labs(title = &quot;Distribution delays by day&quot;,
             x = &quot;Day of Week&quot;, y = &quot;Count&quot;) +
    theme(legend.position = &quot;none&quot;)</code></pre>
<p><img src="5_Airline_Delay_Prediction_files/figure-html/daily_analysis-1.png" width="768" /></p>
<p>The distribution of delays by day indicates mid-week days have a
higher number of flight delays, while Saturdays have the least.</p>
</div>
<div id="number-of-delays-per-airline" class="section level2">
<h2>Number of delays per Airline</h2>
<pre class="r"><code># Airlines with highest number of flight delays
airline_data %&gt;%
  group_by(Airline) %&gt;%
  summarize(
    Total_flights = n(),
    delayed_flights = sum(Delay),
    prop_delayed = round((delayed_flights / Total_flights) * 100, 0)) %&gt;%
  ggplot(aes(x = reorder(Airline, -prop_delayed))) +
  geom_bar(aes(y = Total_flights, fill = &quot;Total_flights&quot;),
           stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  geom_bar(
    aes(y = delayed_flights, fill = &quot;delayed_flights&quot;),
    stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  geom_text(
    aes(y = Total_flights, label = paste0(prop_delayed, &quot;%&quot;)),
    position = position_dodge(width = 1), vjust = -0.3) +
  labs(x = &quot;Airline&quot;, y = &quot;Count&quot;, 
       title = &quot;Total Flights vs. Delayed Flights by Airline&quot;,
       subtitle = &quot;Prepare for delays!&quot;) +
  scale_fill_manual(
    values = c(&quot;Total_flights&quot; = &quot;blue&quot;, &quot;delayed_flights&quot; = &quot;red&quot;),
    labels = c(&quot;Total_flights&quot; = &quot;Total Flights&quot;, 
               &quot;delayed_flights&quot; = &quot;Delayed Flights&quot;))</code></pre>
<p><img src="5_Airline_Delay_Prediction_files/figure-html/airline_analysis-1.png" width="768" /></p>
<p>Customers flying on WN Airline and CO Airline are more likely to be
delayed while other airlines such as B6, DL, F9 and OO also tend to
experience delays frequently.</p>
</div>
<div id="departure-airports-that-are-more-likely-to-delay"
class="section level2">
<h2>Departure Airports that are more likely to delay</h2>
<pre class="r"><code># Visualize 30 Departure Airports with highest number of Delays
airline_data %&gt;%
  group_by(AirportFrom) %&gt;%
  summarize(
    Total_flights = n(),
    delayed_flights = sum(Delay),
    prop_delayed = round((delayed_flights / Total_flights) * 100, 0)
  ) %&gt;%
  filter(prop_delayed &gt; 50) %&gt;%
  slice_max(order_by = prop_delayed, n = 30)  %&gt;%
  arrange(desc(prop_delayed)) %&gt;%
  ggplot(aes(x = reorder(AirportFrom,-prop_delayed))) +
  geom_bar(aes(y = Total_flights, fill = &quot;Total_flights&quot;),
           stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  geom_bar(
    aes(y = delayed_flights, fill = &quot;delayed_flights&quot;),
    stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  geom_text(
    aes(y = Total_flights, label = paste0(prop_delayed, &quot;%&quot;)),
    position = position_dodge(width = 1),
    vjust = -0.3,
    angle = 45) +
  labs(x = &quot;Departure Airport&quot;, y = &quot;Count&quot;, 
       title = &quot;Total Flights vs. Delayed Flights by Departure Airport&quot;,
       subtitle = &quot;Will my flight depart on time?&quot;) +
  scale_fill_manual(
    values = c(&quot;Total_flights&quot; = &quot;blue&quot;,
               &quot;delayed_flights&quot; = &quot;red&quot;),
    labels = c(&quot;Total_flights&quot; = &quot;Total Flights&quot;, 
               &quot;delayed_flights&quot; = &quot;Delayed Flights&quot;)) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))</code></pre>
<p><img src="5_Airline_Delay_Prediction_files/figure-html/departure_analysis-1.png" width="768" /></p>
<p>Airports such as MDW, DAL, OAK, HOU and OTH are top 5 airports with
high proportion of flight delays.</p>
</div>
<div id="arrival-airports-that-are-more-likely-to-delay"
class="section level2">
<h2>Arrival Airports that are more likely to delay</h2>
<pre class="r"><code># Visualize 30 Arrival Airports with highest number of Delays
airline_data %&gt;%
    group_by(AirportTo) %&gt;%
    summarize(
        Total_flights = n(),
        delayed_flights = sum(Delay),
        prop_delayed = round((delayed_flights / Total_flights) * 100, 0)) %&gt;%
  filter(prop_delayed &gt; 50) %&gt;%
  slice_max(order_by = prop_delayed, n = 30)  %&gt;%
  arrange(desc(prop_delayed)) %&gt;%
  ggplot(aes(x = reorder(AirportTo,-prop_delayed))) +
  geom_bar(aes(y = Total_flights, fill = &quot;Total_flights&quot;),
           stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  geom_bar(
    aes(y = delayed_flights, fill = &quot;delayed_flights&quot;),
    stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  geom_text(
    aes(y = Total_flights, label = paste0(prop_delayed, &quot;%&quot;)),
    position = position_dodge(width = 1), 
    vjust = -0.3,
    angle = 45) +
  labs(x = &quot;Arrival Airport&quot;, y = &quot;Count&quot;, 
       title = &quot;Total Flights vs. Delayed Flights by Arrival Airport&quot;,
       subtitle = &quot;Will my flight arrive on time?&quot;) +
  scale_fill_manual(
    values = c(&quot;Total_flights&quot; = &quot;blue&quot;, 
               &quot;delayed_flights&quot; = &quot;red&quot;),
    labels = c(&quot;Total_flights&quot; = &quot;Total Flights&quot;, 
               &quot;delayed_flights&quot; = &quot;Delayed Flights&quot;)) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))</code></pre>
<p><img src="5_Airline_Delay_Prediction_files/figure-html/arrival_analysis-1.png" width="768" /></p>
<p>Airports such as OAK, ISP, MDW, ONT and RDD are the top 5 airports
with high proportion of delays.</p>
<p>Customers using airports such as MDW, DAL, OAK, HOU and SMF are bound
to face delays departing or arriving.</p>
</div>
</div>
<div id="model" class="section level1">
<h1>Model</h1>
<p>First, it is important to find which variables have high linear
correlation with delay, if any.</p>
<div id="correlation-plot" class="section level2">
<h2>Correlation Plot</h2>
<pre class="r"><code># Correlation matrix
cor_matrix &lt;- cor(airline_data %&gt;%
                    select_if(is.numeric))
corrplot(cor_matrix, method = &quot;color&quot;,
         addCoef.col = &quot;black&quot;, tl.col = &quot;red&quot;)</code></pre>
<p><img src="5_Airline_Delay_Prediction_files/figure-html/churn_correlation-1.png" width="768" /></p>
<p>From the correlation result, Delay lacks strong linear relationships
with any of the variables in the data, which makes choosing Logistic
Regression easy for the model type because ‘Logistic regression’
predicts on binary outcomes such as “YES” or “NO” and assumes nothing
about the relationship type.</p>
</div>
<div id="split-data-into-training-and-testing-sets"
class="section level2">
<h2>Split data into training and testing sets</h2>
<pre class="r"><code># Set seed for reproducibility
set.seed(123)
# Split data, 70% for training, 30% for testing
airline_split &lt;-
  initial_split(airline_data, prop = 0.7, strata = Delay)
train_data &lt;- training(airline_split)
test_data &lt;- testing(airline_split)</code></pre>
<p>The data has been split into a training data containing approximately
70% of the data and test data containing approximately 30% of the data,
next step involves building the logistic model using the training
data.</p>
</div>
<div id="logistic-regression-model" class="section level2">
<h2>Logistic Regression Model</h2>
<pre class="r"><code># Build and fit a logistic regression model
delay_model &lt;- glm(Delay ~ ., data = train_data, family = &quot;binomial&quot;)

# Predict target_variable probabilities on the test set
delay_probabilities &lt;- predict(delay_model, 
                                         newdata = test_data, 
                                         type = &quot;response&quot;)

# Evaluate model performance using ROC curve
roc &lt;- roc(test_data$Delay, delay_probabilities)
plot(roc, main = &quot;ROC Curve&quot;)</code></pre>
<p><img src="5_Airline_Delay_Prediction_files/figure-html/logreg_model-1.png" width="768" /></p>
<pre class="r"><code>auc_roc &lt;- auc(roc)
# Calculate Area Under the Curve for the model
cat(&quot;The Area Under the Curve (AUC) for the Logistic Regression model is&quot;,
    auc_roc, &quot;\n&quot;)</code></pre>
<pre><code>## The Area Under the Curve (AUC) for the Logistic Regression model is 0.7053145</code></pre>
<p>The AUC indicates this is a good model but the fit is not
excellent.</p>
<p>Let see how the model predicts and measure its performance using
other metrics such as ‘Accuracy’, ‘Precision’ and ‘Recall’.</p>
<pre class="r"><code># Set threshold value
threshold &lt;- 0.5
# Convert target_variable probabilities to binary predictions (0 or 1) based on threshold
predicted_delay &lt;- ifelse(delay_probabilities &gt;= threshold, 1, 0)

# Compare predicted variable with actual variable in the test set
logreg_confusion_matrix &lt;- table(predicted_delay, test_data$Delay)
# Calculate accuracy, precision, and recall using confusion matrix
# Accuracy = True Positives / (Observations Predicted Correctly)
logreg_accuracy &lt;-
  sum(diag(logreg_confusion_matrix)) / sum(logreg_confusion_matrix)
# Precision = True Positives / (All Observations)
logreg_precision &lt;-
  logreg_confusion_matrix[2, 2] / sum(logreg_confusion_matrix[, 2])
# Recall = True Positives / (True Positives + False Negatives)
logreg_recall &lt;-
  logreg_confusion_matrix[2, 2] / sum(logreg_confusion_matrix[2,])

# Print the metrics
cat(&quot;The Logistic Regression model has the following metrics: &quot;, &quot;\n&quot;,
    &quot;Accuracy: &quot;, round(logreg_accuracy, 2) * 100, &quot;%&quot;, &quot;\n&quot;,
    &quot;Precision:&quot;, round(logreg_precision, 2) * 100, &quot;%&quot;,&quot;\n&quot;,
    &quot;Recall:&quot;, round(logreg_recall, 2) * 100, &quot;%&quot;)</code></pre>
<pre><code>## The Logistic Regression model has the following metrics:  
##  Accuracy:  65 % 
##  Precision: 52 % 
##  Recall: 64 %</code></pre>
<p>The performance of the model can best be described as average. Since
the model is a logic regression model that depends on a threshold value
for the conversion of probabilities to a binary outcome, the threshold
value can be varied to see how that affects the performance of the
model.</p>
</div>
<div id="improve-model" class="section level2">
<h2>Improve Model</h2>
<p>The threshold will vary from 0.1 to 0.9 in steps of 0.1, to see if a
best value can be found.</p>
<pre class="r"><code># Define a sequence of threshold values
thresholds &lt;- seq(0.1, 0.9, by = 0.1)
results &lt;- list()
for (threshold in thresholds) {
  # Predict target_variable probabilities on the test set
  delay_probabilities &lt;- predict(delay_model,
                                 newdata = test_data,
                                 type = &quot;response&quot;)
  # Convert target_variable probabilities to binary predictions (0 or 1) based on threshold
  predicted_delay &lt;- ifelse(delay_probabilities &gt;= threshold, 1, 0)
  # Calculate confusion matrix and metrics
  tuned_logreg_confusion_matrix &lt;-
    table(predicted_delay, test_data$Delay)
  logreg_accuracy &lt;-
    sum(diag(tuned_logreg_confusion_matrix)) / sum(tuned_logreg_confusion_matrix)
  logreg_precision &lt;-
    tuned_logreg_confusion_matrix[2, 2] / sum(tuned_logreg_confusion_matrix[, 2])
  logreg_recall &lt;-
    tuned_logreg_confusion_matrix[2, 2] / sum(tuned_logreg_confusion_matrix[2, ])
  
  results[[as.character(threshold)]] &lt;- list(
    tuned_accuracy = round(logreg_accuracy, 2) * 100,
    tuned_precision = round(logreg_precision, 2) * 100,
    tuned_recall = round(logreg_recall, 2) * 100
  )
  # Print the metrics for the threshold value
  cat(
    &quot;For threshold set to&quot;, threshold,&quot;-\n&quot;,
    &quot;Accuracy:&quot;, results[[as.character(threshold)]]$tuned_accuracy, &quot;\n&quot;,
    &quot;Precision:&quot;, results[[as.character(threshold)]]$tuned_precision, &quot;\n&quot;,
    &quot;Recall:&quot;, results[[as.character(threshold)]]$tuned_recall, &quot;\n&quot;)
}</code></pre>
<pre><code>## For threshold set to 0.1 -
##  Accuracy: 45 
##  Precision: 100 
##  Recall: 45 
## For threshold set to 0.2 -
##  Accuracy: 50 
##  Precision: 97 
##  Recall: 47 
## For threshold set to 0.3 -
##  Accuracy: 58 
##  Precision: 87 
##  Recall: 51 
## For threshold set to 0.4 -
##  Accuracy: 63 
##  Precision: 70 
##  Recall: 57 
## For threshold set to 0.5 -
##  Accuracy: 65 
##  Precision: 52 
##  Recall: 64 
## For threshold set to 0.6 -
##  Accuracy: 65 
##  Precision: 35 
##  Recall: 72 
## For threshold set to 0.7 -
##  Accuracy: 62 
##  Precision: 20 
##  Recall: 80 
## For threshold set to 0.8 -
##  Accuracy: 58 
##  Precision: 7 
##  Recall: 89 
## For threshold set to 0.9 -
##  Accuracy: 56 
##  Precision: 0 
##  Recall: 92</code></pre>
</div>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>A Logistic Regression model is not a good fit for predicting delays
based on the data provided, the Accuracy, Precision and Recall of the
model are at best considered average, despite trying different threshold
values for converting the probabilities of delay to a binary outcome.
This suggests that a logistic Regression model will not be the best
model of choice for this task, and another model will have to be tried,
(probably a decision tree or ensemble model).</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
